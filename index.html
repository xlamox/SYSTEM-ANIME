<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RISE SYSTEM ‚Äî OBJECT INTRO (Smooth)</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@200..800&family=Inter:wght@300..900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: 235 35% 6%;
      --fg: 210 40% 96%;
      --c1: 195 100% 55%;
      --c2: 280 85% 64%;
      --c3: 155 80% 48%;
      --c4: 35 95% 58%;
      --glass: rgba(255,255,255,.06);
      --line: rgba(255,255,255,.14);
      --shadow: rgba(0,0,0,.66);
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background: hsl(var(--bg));
      color: hsl(var(--fg));
      overflow:hidden;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    /* ===== Cinematic Nebula ===== */
    .bg{
      position:fixed; inset:-25%;
      z-index:-10;
      background:
        radial-gradient(1200px 900px at 12% 18%, hsl(var(--c2)/.22), transparent 60%),
        radial-gradient(1200px 900px at 88% 22%, hsl(var(--c1)/.22), transparent 60%),
        radial-gradient(1100px 850px at 22% 86%, hsl(var(--c3)/.18), transparent 60%),
        radial-gradient(900px 700px at 85% 80%, hsl(var(--c4)/.10), transparent 62%),
        linear-gradient(to bottom, hsl(235 35% 6%), hsl(240 32% 7%));
      background-size: 140% 140%;
      animation: drift 16s ease-in-out infinite;
      will-change: transform, filter, background-position;
      transform: translateZ(0);
    }
    .bg::before{
      content:"";
      position:absolute; inset:0;
      background:
        conic-gradient(from 205deg at 50% 50%,
          transparent 0deg,
          hsl(var(--c1)/.08) 80deg,
          transparent 140deg,
          hsl(var(--c2)/.08) 240deg,
          transparent 360deg);
      filter: blur(22px);
      opacity:.95;
      animation: spin 28s linear infinite;
      mix-blend-mode: screen;
      pointer-events:none;
    }
    @keyframes drift{
      0%   { background-position: 48% 55%; transform: scale(1); filter: hue-rotate(0deg); }
      50%  { background-position: 62% 40%; transform: scale(1.05); filter: hue-rotate(16deg); }
      100% { background-position: 48% 55%; transform: scale(1); filter: hue-rotate(0deg); }
    }
    @keyframes spin{ to{ transform: rotate(360deg);} }

    .vignette{
      position:fixed; inset:0; z-index:-8;
      background:
        radial-gradient(circle at 50% 42%, transparent 0 55%, rgba(0,0,0,.80) 92%),
        linear-gradient(to bottom, rgba(0,0,0,.10), rgba(0,0,0,.55));
      pointer-events:none;
    }

    .grid{
      position:fixed; inset:0; z-index:-7;
      background:
        linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
      background-size: 70px 70px;
      opacity:.16;
      pointer-events:none;
      mask-image: radial-gradient(circle at 50% 35%, rgba(0,0,0,.95), rgba(0,0,0,.10) 62%, transparent 78%);
      animation: gridShift 10s ease-in-out infinite;
    }
    @keyframes gridShift{
      0%,100%{ transform: translate3d(0,0,0); opacity:.15; }
      50%{ transform: translate3d(14px,-12px,0); opacity:.20; }
    }

    .noise{
      position:fixed; inset:0; z-index:-6;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.25'/%3E%3C/svg%3E");
      opacity:.055;
      pointer-events:none;
    }

    /* ===== Canvases (OBJECTS) ===== */
    canvas#fxA, canvas#fxB, canvas#fxC{
      position:fixed; inset:0;
      pointer-events:none;
      transform: translateZ(0);
    }
    canvas#fxA{ z-index:-9; } /* ribbons */
    canvas#fxB{ z-index:-5; } /* sparks */
    canvas#fxC{ z-index:-4; } /* meteors */

    /* ===== Hologram Shards (CSS 3D) ===== */
    .shards{
      position:fixed; inset:0;
      z-index:-3;
      pointer-events:none;
      perspective: 900px;
      transform-style: preserve-3d;
      filter: saturate(1.15);
      transform: translateZ(0);
    }
    .shard{
      position:absolute;
      width: 180px;
      height: 260px;
      border-radius: 24px;
      background:
        linear-gradient(135deg,
          rgba(255,255,255,.08),
          rgba(255,255,255,.02) 35%,
          rgba(255,255,255,.06) 62%,
          rgba(255,255,255,.01));
      border: 1px solid rgba(255,255,255,.10);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.04) inset,
        0 40px 120px rgba(0,0,0,.55);
      overflow:hidden;
      transform-style: preserve-3d;
      backdrop-filter: blur(8px);
      opacity:.55;
      mix-blend-mode: screen;
      transform: translateZ(0);
    }
    .shard::before{
      content:"";
      position:absolute; inset:-60%;
      background:
        radial-gradient(circle at 35% 30%, hsl(var(--c1)/.22), transparent 55%),
        radial-gradient(circle at 70% 60%, hsl(var(--c2)/.20), transparent 55%),
        radial-gradient(circle at 40% 80%, hsl(var(--c3)/.14), transparent 55%);
      filter: blur(18px);
      opacity:.92;
      transform: translateZ(40px);
      animation: shardGlow 3.6s ease-in-out infinite;
      pointer-events:none;
    }
    .shard::after{
      content:"";
      position:absolute; inset:-2px;
      background:
        linear-gradient(to bottom, rgba(255,255,255,.14), transparent 45%),
        radial-gradient(600px 280px at 50% 0%, rgba(255,255,255,.12), transparent 60%);
      opacity:.45;
      pointer-events:none;
    }
    @keyframes shardGlow{
      0%,100%{ transform: translate3d(-10px, 8px, 40px) scale(1); }
      50%{ transform: translate3d(14px, -10px, 40px) scale(1.04); }
    }

    /* ===== Root ===== */
    #root{ position:relative; z-index:1; height:100%; }

    /* ===== Panel ===== */
    .wrap{
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 26px 16px;
    }
    .panel{
      width: min(1120px, 100%);
      border-radius: 34px;
      border: 1px solid var(--line);
      background: rgba(0,0,0,.22);
      box-shadow:
        0 1px 0 rgba(255,255,255,.06) inset,
        0 60px 180px var(--shadow);
      overflow:hidden;
      position:relative;
      backdrop-filter: blur(10px);
      transform: translateZ(0);
      will-change: transform, opacity, filter;
    }
    .panel::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(900px 420px at 50% 0%, hsl(var(--c1)/.18), transparent 62%),
        radial-gradient(700px 380px at 16% 24%, hsl(var(--c2)/.12), transparent 64%),
        radial-gradient(700px 420px at 86% 18%, hsl(var(--c3)/.10), transparent 64%);
      filter: blur(12px);
      opacity:.90;
      pointer-events:none;
    }
    .inner{ position:relative; padding: 56px 24px 46px; }
    @media (min-width: 920px){
      .inner{ padding: 68px 68px 54px; }
    }

    /* ===== HUD corners + scan ===== */
    .hudCorners{
      position:absolute; inset:18px;
      border-radius: 24px;
      pointer-events:none;
      opacity:.72;
      background:
        linear-gradient(to right, rgba(255,255,255,.22), transparent 38%) top left / 120px 2px no-repeat,
        linear-gradient(to bottom, rgba(255,255,255,.22), transparent 38%) top left / 2px 120px no-repeat,
        linear-gradient(to left, rgba(255,255,255,.22), transparent 38%) top right / 120px 2px no-repeat,
        linear-gradient(to bottom, rgba(255,255,255,.22), transparent 38%) top right / 2px 120px no-repeat,
        linear-gradient(to right, rgba(255,255,255,.22), transparent 38%) bottom left / 120px 2px no-repeat,
        linear-gradient(to top, rgba(255,255,255,.22), transparent 38%) bottom left / 2px 120px no-repeat,
        linear-gradient(to left, rgba(255,255,255,.22), transparent 38%) bottom right / 120px 2px no-repeat,
        linear-gradient(to top, rgba(255,255,255,.22), transparent 38%) bottom right / 2px 120px no-repeat;
      filter: drop-shadow(0 0 18px rgba(0,229,255,.08));
    }
    .scanline{
      position:absolute;
      inset:-45% 0;
      z-index:2;
      pointer-events:none;
      opacity:.10;
      background: linear-gradient(to bottom, transparent, rgba(255,255,255,.45), transparent);
      animation: scan 4.3s ease-in-out infinite;
      mix-blend-mode: overlay;
      filter: blur(.2px);
    }
    @keyframes scan{
      0%{ transform: translateY(-35%); opacity:.05; }
      50%{ transform: translateY(35%); opacity:.14; }
      100%{ transform: translateY(-35%); opacity:.05; }
    }

    /* ===== Badge ===== */
    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: var(--glass);
      font-size: 12px;
      color: rgba(255,255,255,.86);
      letter-spacing:.4px;
    }
    .dot{
      width: 10px; height:10px; border-radius:50%;
      background: hsl(var(--c1));
      box-shadow: 0 0 22px hsl(var(--c1)/.65);
    }

    /* ===== Headline ===== */
    .hero{ margin-top: 18px; display:flex; flex-direction:column; gap: 14px; }
    .headline{
      font-family: Oxanium, Inter, system-ui, sans-serif;
      font-weight: 800;
      line-height: 1.02;
      font-size: clamp(34px, 5.9vw, 90px);
      margin:0;
      text-align:left;
      letter-spacing: .4px;
    }
    .subline{
      margin:0;
      color: rgba(255,255,255,.76);
      max-width: 780px;
      font-size: 14.6px;
      line-height: 1.75;
    }

    /* ===== SYSTEM GLITCH ===== */
    .system{
      font-family:Oxanium, sans-serif;
      letter-spacing:7px;
      text-shadow:0 0 55px rgba(0,229,255,.12);
      display:inline-block;
    }
    .glitch{
      position:relative;
      display:inline-block;
    }
    .glitch::before,
    .glitch::after{
      content:attr(data-text);
      position:absolute; inset:0;
      opacity:.70;
      pointer-events:none;
    }
    .glitch::before{
      color:hsl(var(--c2));
      transform:translate(2px,0);
      clip-path: inset(0 0 54% 0);
      animation:g1 2.1s infinite linear;
      mix-blend-mode: screen;
    }
    .glitch::after{
      color:hsl(var(--c1));
      transform:translate(-2px,0);
      clip-path: inset(54% 0 0 0);
      animation:g2 2.6s infinite linear;
      mix-blend-mode: screen;
    }
    @keyframes g1{
      0%,100%{filter:none}
      14%{transform:translate(3px,-1px)}
      28%{transform:translate(1px,1px)}
      42%{transform:translate(4px,0)}
    }
    @keyframes g2{
      0%,100%{filter:none}
      16%{transform:translate(-3px,1px)}
      32%{transform:translate(-1px,-1px)}
      48%{transform:translate(-4px,0)}
    }

    /* ===== Chip ===== */
    .chipRow{
      display:flex;
      flex-wrap:wrap;
      gap: 10px 12px;
      align-items:center;
      font-family: Oxanium, Inter, system-ui, sans-serif;
      letter-spacing:.7px;
      line-height: 1.05;
      margin-top: 6px;
    }
    .chipRow .fixed{
      font-size: clamp(22px, 3.2vw, 42px);
      color: rgba(255,255,255,.86);
    }
    .chip{
      font-size: clamp(22px, 3.2vw, 42px);
      position:relative;
      padding: 4px 12px;
      border-radius: 16px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.06);
      box-shadow: 0 0 0 1px rgba(255,255,255,.04) inset;
      overflow:hidden;
      transform: translateZ(0);
    }
    .chip::before{
      content:"";
      position:absolute; inset:-40%;
      background:
        radial-gradient(circle at 30% 30%, hsl(var(--c1)/.24), transparent 55%),
        radial-gradient(circle at 70% 60%, hsl(var(--c2)/.22), transparent 55%),
        radial-gradient(circle at 40% 80%, hsl(var(--c3)/.16), transparent 55%);
      filter: blur(14px);
      animation: chipGlow 3.6s ease-in-out infinite;
      opacity:.92;
      pointer-events:none;
    }
    @keyframes chipGlow{
      0%,100%{ transform: translate3d(-10px, 8px, 0) scale(1); }
      50%{ transform: translate3d(12px, -10px, 0) scale(1.04); }
    }
    .chip span{ position:relative; color: rgba(255,255,255,.93); }

    .heroWord{
      color: hsl(var(--c1));
      text-shadow: 0 0 40px hsl(var(--c1)/.22);
      font-family: Oxanium, Inter, system-ui, sans-serif;
      letter-spacing: .9px;
    }

    /* ===== Actions ===== */
    .actions{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      margin-top: 18px;
      align-items:center;
    }
    .btn{
      appearance:none;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.92);
      padding: 12px 16px;
      border-radius: 16px;
      font-weight: 900;
      letter-spacing:.35px;
      cursor:pointer;
      transition: transform .15s ease, background .15s ease, border-color .15s ease, box-shadow .15s ease;
      backdrop-filter: blur(10px);
      position:relative;
      overflow:hidden;
    }
    .btn:hover{ background: rgba(255,255,255,.10); transform: translateY(-1px); }
    .btn:active{ transform: translateY(0px) scale(.99); }

    .btnPrimary{
      border-color: hsl(var(--c1)/.30);
      background: linear-gradient(135deg, hsl(var(--c1)/.26), hsl(var(--c2)/.16));
      box-shadow:
        0 0 0 1px rgba(255,255,255,.05) inset,
        0 28px 120px rgba(0,0,0,.42),
        0 0 90px hsl(var(--c1)/.14);
    }
    .btnPrimary::before{
      content:"";
      position:absolute; inset:-70%;
      background: radial-gradient(circle at 40% 40%, rgba(255,255,255,.18), transparent 50%);
      filter: blur(18px);
      transform: translate3d(-18px, 10px, 0);
      opacity:.75;
      transition: transform .25s ease;
      pointer-events:none;
    }
    .btnPrimary:hover::before{ transform: translate3d(18px, -12px, 0); }

    .hint{
      font-size: 12px;
      color: rgba(255,255,255,.62);
      letter-spacing:.2px;
    }
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      padding: 3px 8px;
      border-radius: 10px;
      color: rgba(255,255,255,.72);
    }

    .echo{
      margin-top: 18px;
      display:flex;
      justify-content:space-between;
      gap: 10px;
      flex-wrap:wrap;
      color: rgba(255,255,255,.55);
      font-size: 12px;
    }

    /* ===== Exit panel ===== */
    .out{ animation: out 520ms cubic-bezier(.2,.9,.15,1) forwards; }
    @keyframes out{
      0%{ transform: scale(1); opacity:1; filter: blur(0px); }
      100%{ transform: scale(1.02); opacity:0; filter: blur(7px); }
    }

    /* ===== Scene2 iframe overlay ===== */
    #scene2Frame{
      position: fixed;
      inset: 0;
      border: 0;
      width: 100%;
      height: 100%;
      display: none;
      z-index: 9999;
      background: #000;
    }
    #scene2Frame.show{ display:block; }

    /* ================= PERFORMANCE MODE ================= */
    @media (max-width: 820px){
      .bg{ animation-duration: 22s; filter:none !important; }
      .bg::before{ filter: blur(16px); opacity:.75; animation-duration: 36s; }
      .grid{ opacity:.10; background-size: 92px 92px; }
      .noise{ opacity:.035; }

      .panel{ backdrop-filter: blur(7px); }
      .shard{ backdrop-filter: blur(5px); }
    }
    @media (prefers-reduced-motion: reduce){
      .bg{ animation:none !important; }
      .bg::before{ animation:none !important; }
      .grid{ animation:none !important; }
      .scanline{ animation:none !important; opacity:.06; }
    }
  </style>
</head>

<body>
  <div class="bg"></div>
  <canvas id="fxA"></canvas>
  <canvas id="fxB"></canvas>
  <canvas id="fxC"></canvas>
  <div class="vignette"></div>
  <div class="grid"></div>
  <div class="noise"></div>

  <div class="shards" id="shards"></div>

  <div id="root"></div>

  <!-- ‚úÖ Scene2 injected here as iframe after enter -->
  <iframe id="scene2Frame" title="SYSTEME scene"></iframe>

  <!-- üîä SYSTEM AUDIO (put system.mp3 next to this index.html) -->
  <audio id="systemAudio" src="system.mp3" preload="auto"></audio>

  <!-- React (CDN) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- üîä AUDIO CONTROL: start on first interaction, stop on ENTER button -->
  <script>
    (function(){
      const audio = document.getElementById("systemAudio");
      if(!audio) return;

      let started = false;

      async function startAudio(){
        if(started) return;
        try{
          await audio.play();
          started = true;
        }catch(e){
          // autoplay may be blocked; next interaction typically works
        }
      }

      function stopAudio(){
        try{
          audio.pause();
          audio.currentTime = 0;
        }catch(e){}
      }

      // Play on first interaction (required by browsers)
      window.addEventListener("pointerdown", startAudio, { once:true, passive:true });
      window.addEventListener("keydown", startAudio, { once:true });

      // Stop when clicking ENTER button (capture phase so we stop immediately)
      document.addEventListener("click", (e) => {
        const btn = e.target && e.target.closest ? e.target.closest("#enterBtn") : null;
        if(btn) stopAudio();
      }, true);

      // Stop on Enter key (your code triggers click anyway; this is extra safety)
      window.addEventListener("keydown", (e) => {
        if(e.key === "Enter") stopAudio();
      }, true);

      // Stop when tab is hidden
      document.addEventListener("visibilitychange", () => {
        if(document.hidden) stopAudio();
      });
    })();
  </script>

  <script>
    const { useEffect, useMemo, useRef, useState } = React;
    const h = React.createElement;

    const TARGET_APP = "app.html"; // ‚úÖ ÿ∫Ÿäÿ±Ÿáÿß ÿ•ÿ∞ÿß ŸÖŸÑŸÅŸÉ ŸÖÿÆÿ™ŸÑŸÅ

    /* ============================================================
       SHARDS (CSS OBJECTS) ‚Äî lighter on mobile
       ============================================================ */
    (function(){
      const host = document.getElementById("shards");
      const isMobile = matchMedia("(max-width: 820px)").matches;
      const count = isMobile ? 6 : 10;

      function rnd(min,max){ return min + Math.random()*(max-min); }

      for(let i=0;i<count;i++){
        const d = document.createElement("div");
        d.className = "shard";

        const w = rnd(isMobile ? 110 : 120, isMobile ? 210 : 240);
        const hgt = rnd(isMobile ? 160 : 180, isMobile ? 300 : 340);
        d.style.width = w+"px";
        d.style.height = hgt+"px";

        d.style.left = rnd(-10, 95)+"%";
        d.style.top  = rnd(-10, 95)+"%";

        const dur = rnd(isMobile ? 10 : 8, isMobile ? 16 : 14);
        const delay = rnd(-6, 0);
        d.style.animation = `floatShard ${dur}s ease-in-out ${delay}s infinite alternate`;
        d.style.opacity = rnd(isMobile ? 0.18 : 0.22, isMobile ? 0.46 : 0.58);

        host.appendChild(d);
      }

      const st = document.createElement("style");
      st.textContent = `
        @keyframes floatShard{
          0%{ transform: translate3d(0,0,0) rotateX(8deg) rotateY(-12deg) rotateZ(4deg); filter: blur(0px); }
          100%{ transform: translate3d(18px,-22px,60px) rotateX(18deg) rotateY(-22deg) rotateZ(-6deg); filter: blur(.15px); }
        }
      `;
      document.head.appendChild(st);
    })();

    /* ============================================================
       CANVAS OBJECT FX (adaptive + smooth)
       ============================================================ */
    function useObjectFX(){
      const raf = useRef(null);
      const last = useRef(performance.now());
      const running = useRef(true);

      const ribbons = useRef([]);
      const sparks  = useRef([]);
      const meteors = useRef([]);

      useEffect(()=>{
        const cA = document.getElementById("fxA");
        const cB = document.getElementById("fxB");
        const cC = document.getElementById("fxC");

        const ctxA = cA.getContext("2d", { alpha:true, desynchronized:true });
        const ctxB = cB.getContext("2d", { alpha:true, desynchronized:true });
        const ctxC = cC.getContext("2d", { alpha:true, desynchronized:true });

        const W = ()=> window.innerWidth;
        const H = ()=> window.innerHeight;

        const isMobile = matchMedia("(max-width: 820px)").matches;
        const reduceMotion = matchMedia("(prefers-reduced-motion: reduce)").matches;
        const lowEnd = isMobile || (navigator.hardwareConcurrency && navigator.hardwareConcurrency <= 4);

        const DPR = ()=> {
          const d = window.devicePixelRatio || 1;
          if (reduceMotion) return 1;
          if (lowEnd) return Math.min(1.25, d);
          return Math.min(1.75, d);
        };

        function rnd(min,max){ return min + Math.random()*(max-min); }

        let ww = W(), hh = H();

        // Precomputed fog gradient
        let fog = null;
        function buildFog(){
          fog = ctxA.createRadialGradient(ww*0.5, hh*0.38, 40, ww*0.5, hh*0.38, Math.max(ww,hh)*0.9);
          fog.addColorStop(0, "rgba(0,229,255,0.05)");
          fog.addColorStop(1, "rgba(0,0,0,0)");
        }

        function seed(){
          const area = ww * hh;

          const rCount = reduceMotion ? 0 : Math.max(4, Math.floor(area / (lowEnd ? 280000 : 190000)));
          const R = [];
          for(let i=0;i<rCount;i++){
            const baseY = rnd(hh*0.15, hh*0.85);
            R.push({
              x: rnd(-ww*0.2, ww*1.2),
              y: baseY,
              amp: rnd(lowEnd ? 16 : 22, lowEnd ? 46 : 70),
              wav: rnd(0.6, 1.4),
              sp:  rnd(lowEnd ? 26 : 32, lowEnd ? 52 : 72),
              w:   rnd(lowEnd ? 1.0 : 1.2, lowEnd ? 2.2 : 2.9),
              hue: Math.random() < 0.5 ? "c1" : "c2",
              t: rnd(0, Math.PI*2),
              drift: rnd(lowEnd ? -10 : -18, lowEnd ? 10 : 18),
            });
          }
          ribbons.current = R;

          const sCount = reduceMotion ? 70 : Math.max(110, Math.floor(area / (lowEnd ? 14000 : 9500)));
          const S = [];
          for(let i=0;i<sCount;i++){
            S.push({
              x: rnd(0,ww),
              y: rnd(0,hh),
              r: rnd(0.6, lowEnd ? 1.35 : 1.7),
              z: rnd(0.1, 1.0),
              tw: rnd(0, Math.PI*2),
            });
          }
          sparks.current = S;

          const mCount = reduceMotion ? 0 : Math.max(4, Math.floor(area / (lowEnd ? 260000 : 180000)));
          const M = [];
          for(let i=0;i<mCount;i++){
            M.push({
              x: rnd(-ww, ww*1.2),
              y: rnd(-hh*0.2, hh*1.2),
              vx: rnd(lowEnd ? 180 : 220, lowEnd ? 360 : 460),
              vy: rnd(lowEnd ? 50 : 60,  lowEnd ? 110 : 140),
              len: rnd(lowEnd ? 60 : 80,  lowEnd ? 120 : 150),
              t: rnd(0, 10),
              life: rnd(0.2, 1.0),
            });
          }
          meteors.current = M;
        }

        function resize(){
          ww = W(); hh = H();
          const dpr = DPR();

          for(const c of [cA,cB,cC]){
            c.width  = Math.floor(ww * dpr);
            c.height = Math.floor(hh * dpr);
            c.style.width  = ww+"px";
            c.style.height = hh+"px";
          }

          ctxA.setTransform(dpr,0,0,dpr,0,0);
          ctxB.setTransform(dpr,0,0,dpr,0,0);
          ctxC.setTransform(dpr,0,0,dpr,0,0);

          seed();
          buildFog();
        }

        window.addEventListener("resize", resize, {passive:true});
        resize();

        // pause when hidden
        function onVis(){
          running.current = !document.hidden;
          if(running.current){
            last.current = performance.now();
            raf.current = requestAnimationFrame(tick);
          }else{
            cancelAnimationFrame(raf.current);
          }
        }
        document.addEventListener("visibilitychange", onVis);

        function drawRibbons(now, dt){
          if(reduceMotion){ ctxA.clearRect(0,0,ww,hh); return; }

          ctxA.clearRect(0,0,ww,hh);
          if(fog){
            ctxA.fillStyle = fog;
            ctxA.fillRect(0,0,ww,hh);
          }

          const shadowOn = !lowEnd;

          for(const rb of ribbons.current){
            rb.x += rb.sp * dt;
            rb.t += dt * rb.wav;
            rb.y += Math.sin(now*0.001 + rb.t) * dt * rb.drift;

            if(rb.x > ww + 240){
              rb.x = -240;
              rb.y = rnd(hh*0.15, hh*0.85);
              rb.amp = rnd(lowEnd ? 16 : 22, lowEnd ? 46 : 70);
              rb.sp  = rnd(lowEnd ? 26 : 32, lowEnd ? 52 : 72);
              rb.w   = rnd(lowEnd ? 1.0 : 1.2, lowEnd ? 2.2 : 2.9);
              rb.t   = rnd(0, Math.PI*2);
              rb.drift = rnd(lowEnd ? -10 : -18, lowEnd ? 10 : 18);
            }

            const a = 0.09 + 0.14*(rb.w/2.9);
            const col = rb.hue === "c1" ? `rgba(0,229,255,${a})` : `rgba(168,85,247,${a})`;

            const y0 = rb.y, x0 = rb.x;
            const x1 = x0 + 220, x2 = x0 + 460, x3 = x0 + 760;
            const y1 = y0 + Math.sin(rb.t + 0.8)*rb.amp;
            const y2 = y0 + Math.sin(rb.t + 1.7)*rb.amp*0.85;
            const y3 = y0 + Math.sin(rb.t + 2.6)*rb.amp*0.70;

            ctxA.beginPath();
            ctxA.moveTo(x0, y0);
            ctxA.bezierCurveTo(x0+120, y1, x1, y2, x2, y3);
            ctxA.bezierCurveTo(x2+120, y3, x3-120, y2, x3, y1);

            ctxA.strokeStyle = col;
            ctxA.lineWidth = rb.w;
            ctxA.lineCap = "round";
            ctxA.lineJoin = "round";

            if(shadowOn){
              ctxA.shadowBlur = 14;
              ctxA.shadowColor = col;
            }else{
              ctxA.shadowBlur = 0;
            }
            ctxA.stroke();
            ctxA.shadowBlur = 0;

            if(!lowEnd){
              ctxA.strokeStyle = "rgba(255,255,255,0.05)";
              ctxA.lineWidth = Math.max(0.6, rb.w*0.45);
              ctxA.stroke();
            }
          }
        }

        function drawSparks(now, dt){
          ctxB.clearRect(0,0,ww,hh);
          const time = now*0.001;

          for(const p of sparks.current){
            p.x += (12 + 36*p.z) * dt;
            p.y += Math.sin(time + p.tw) * dt * (5 + 14*p.z);

            if(p.x > ww+20) p.x = -20;
            if(p.y > hh+20) p.y = -20;
            if(p.y < -20) p.y = hh+20;

            const tw = 0.55 + 0.45*Math.sin(time*2.2 + p.tw);
            const a  = (0.06 + p.z*(lowEnd ? 0.18 : 0.22)) * tw;

            ctxB.beginPath();
            ctxB.arc(p.x, p.y, p.r*(0.6+p.z), 0, Math.PI*2);
            ctxB.fillStyle = `rgba(255,255,255,${a})`;
            ctxB.fill();

            const chance = lowEnd ? 0.003 : 0.007;
            if(Math.random() < chance){
              ctxB.beginPath();
              ctxB.arc(p.x+2, p.y-1, p.r*0.7, 0, Math.PI*2);
              ctxB.fillStyle = Math.random()<0.5 ? "rgba(0,229,255,0.14)" : "rgba(168,85,247,0.12)";
              ctxB.fill();
            }
          }
        }

        function drawMeteors(now, dt){
          if(reduceMotion){ ctxC.clearRect(0,0,ww,hh); return; }

          ctxC.clearRect(0,0,ww,hh);
          const shadowOn = !lowEnd;

          for(const k of meteors.current){
            k.t += dt;
            k.x += k.vx * dt;
            k.y += k.vy * dt;

            if(k.x > ww+k.len*2 || k.y > hh+k.len*2 || k.t > 3.2){
              k.x = rnd(-ww*0.6, ww*0.2);
              k.y = rnd(-hh*0.2, hh*0.6);
              k.vx = rnd(lowEnd ? 180 : 220, lowEnd ? 360 : 460);
              k.vy = rnd(lowEnd ? 50 : 60,  lowEnd ? 110 : 140);
              k.len = rnd(lowEnd ? 60 : 80,  lowEnd ? 120 : 150);
              k.t = 0;
              k.life = rnd(0.2, 1.0);
            }

            const fade = Math.min(1, k.t/0.25) * Math.min(1, (3.0-k.t)/0.7) * k.life;
            const col = (Math.random()<0.5)
              ? `rgba(0,229,255,${0.12*fade})`
              : `rgba(168,85,247,${0.10*fade})`;

            const ang = Math.atan2(k.vy, k.vx);
            const dx = Math.cos(ang) * k.len;
            const dy = Math.sin(ang) * k.len;

            ctxC.beginPath();
            ctxC.moveTo(k.x, k.y);
            ctxC.lineTo(k.x - dx, k.y - dy);
            ctxC.strokeStyle = col;
            ctxC.lineWidth = lowEnd ? 1.6 : 2;

            if(shadowOn){
              ctxC.shadowBlur = 12;
              ctxC.shadowColor = col;
            }else{
              ctxC.shadowBlur = 0;
            }
            ctxC.stroke();
            ctxC.shadowBlur = 0;
          }
        }

        function tick(now){
          if(!running.current) return;

          const dt = Math.min(0.033, (now - last.current)/1000);
          last.current = now;

          if(lowEnd){
            if(((now/16)|0) % 2 === 0) drawRibbons(now, dt);
          }else{
            drawRibbons(now, dt);
          }

          drawSparks(now, dt);
          drawMeteors(now, dt);

          raf.current = requestAnimationFrame(tick);
        }

        raf.current = requestAnimationFrame(tick);

        return ()=>{
          cancelAnimationFrame(raf.current);
          window.removeEventListener("resize", resize);
          document.removeEventListener("visibilitychange", onVis);
        };
      }, []);
    }

    /* ============================================================
       ‚úÖ YOUR SCENE2 HTML (exact) in iframe srcdoc
       ============================================================ */
    const SCENE2_HTML = `<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SYSTEME ‚Äî Become a Hero</title>
  <style>
    :root{
      --bg0:#050611;
      --bg1:#0b0d20;
      --txt:#f2f7ff;
      --muted: rgba(242,247,255,.66);
      --border: rgba(255,255,255,.14);
      --shadow: 0 40px 120px rgba(0,0,0,.65);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      overflow:hidden;
      background:
        radial-gradient(1100px 680px at 68% 24%, rgba(255,255,255,.055), transparent 60%),
        radial-gradient(900px 700px at 28% 82%, rgba(255,255,255,.035), transparent 58%),
        linear-gradient(180deg, var(--bg1), var(--bg0));
      color:var(--txt);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
    }

    .vignette{
      position:fixed; inset:-25%;
      pointer-events:none;
      background: radial-gradient(closest-side at 50% 50%, transparent 40%, rgba(0,0,0,.70) 100%);
      mix-blend-mode:multiply;
      filter: blur(2px);
      opacity:.85;
    }

    canvas{
      position:fixed; inset:0;
      width:100%; height:100%;
      display:block;
      opacity:.55;
    }

    .stage{
      position:fixed; inset:0;
      display:grid;
      place-items:center;
      pointer-events:none;
    }
    .wrap{
      text-align:center;
      transform: translateY(8px);
    }

    .word{
      position:relative;
      display:inline-block;
      font-weight:900;
      letter-spacing:.18em;
      text-transform:uppercase;
      font-size: clamp(54px, 8vw, 132px);
      line-height:1;
      opacity:0;
      transform: translateY(14px) scale(.985);
      filter: blur(12px);
      text-shadow: 0 18px 90px rgba(0,0,0,.70);
      transition: opacity .9s ease, transform .9s ease, filter .9s ease;
      will-change: transform, filter, opacity;
    }
    .base{color:rgba(242,247,255,.94);}

    .gl{
      position:absolute; inset:0;
      opacity:0;
      pointer-events:none;
      mix-blend-mode: screen;
      overflow:hidden;
    }
    .gl::before,
    .gl::after{
      content: attr(data-text);
      position:absolute; inset:0;
      color: rgba(242,247,255,.92);
      filter: blur(.2px);
    }

    .sweep{
      position:absolute;
      top:-30%;
      left:-60%;
      width:50%;
      height:160%;
      background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,.55), rgba(255,255,255,0));
      transform: skewX(-18deg);
      filter: blur(2px);
      opacity:0;
      pointer-events:none;
    }

    .tag{
      margin-top:18px;
      font-size: 12px;
      letter-spacing:.34em;
      text-transform:uppercase;
      color: rgba(242,247,255,.60);
      opacity:0;
      transform: translateY(10px);
      transition: opacity .9s ease, transform .9s ease;
    }
    .tag b{
      color: rgba(242,247,255,.82);
      font-weight:700;
      letter-spacing:.34em;
    }

    .rule{
      width:min(520px, 70vw);
      height:1px;
      margin:18px auto 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.22), transparent);
      opacity:0;
      transform: scaleX(.85);
      transition: opacity .9s ease, transform .9s ease;
    }

    body.ready .word{
      opacity:1;
      transform: translateY(0) scale(1);
      filter: blur(0px);
    }
    body.ready .tag{
      opacity:1;
      transform: translateY(0);
      transition-delay: .25s;
    }
    body.ready .rule{
      opacity:1;
      transform: scaleX(1);
      transition-delay: .18s;
    }

    .burst .gl{opacity:1;}
    .burst .gl::before{ animation: g1 180ms steps(2) infinite; }
    .burst .gl::after{  animation: g2 180ms steps(2) infinite; }

    @keyframes g1{
      0%{clip-path: inset(12% 0 78% 0); transform: translateX(10px)}
      40%{clip-path: inset(62% 0 22% 0); transform: translateX(-12px)}
      80%{clip-path: inset(28% 0 56% 0); transform: translateX(8px)}
      100%{clip-path: inset(0 0 88% 0); transform: translateX(6px)}
    }
    @keyframes g2{
      0%{clip-path: inset(78% 0 8% 0); transform: translateX(-10px)}
      40%{clip-path: inset(18% 0 64% 0); transform: translateX(12px)}
      80%{clip-path: inset(8% 0 78% 0); transform: translateX(-8px)}
      100%{clip-path: inset(90% 0 0 0); transform: translateX(-6px)}
    }

    .mark{
      position:fixed;
      left:18px; bottom:16px;
      color: rgba(242,247,255,.44);
      font-size:11px;
      letter-spacing:.24em;
      text-transform:uppercase;
      pointer-events:none;
    }

    @media (prefers-reduced-motion: reduce){
      .mark{opacity:.65}
    }
  </style>
</head>

<body>
  <canvas id="fx"></canvas>
  <div class="vignette"></div>

  <div class="stage">
    <div class="wrap">
      <div class="word" id="word">
        <span class="base" id="base">SYSTEME</span>
        <span class="gl" id="gl" data-text="SYSTEME"></span>
        <span class="sweep" id="sweep"></span>
      </div>
      <div class="rule" id="rule"></div>
      <div class="tag" id="tag"><b>BECOME A HERO</b></div>
    </div>
  </div>

  <div class="mark">identity // locked</div>

<script>
(() => {
  const c = document.getElementById('fx');
  const ctx = c.getContext('2d', { alpha:true, desynchronized:true });

  const isMobile = matchMedia("(max-width: 820px)").matches;
  const reduceMotion = matchMedia("(prefers-reduced-motion: reduce)").matches;
  const lowEnd = isMobile || (navigator.hardwareConcurrency && navigator.hardwareConcurrency <= 4);

  const DPR = () => {
    const d = window.devicePixelRatio || 1;
    if (reduceMotion) return 1;
    if (lowEnd) return Math.min(1.25, d);
    return Math.min(1.75, d);
  };

  let W=0,H=0;
  const rand=(a,b)=>a+Math.random()*(b-a);

  function resize(){
    W=innerWidth; H=innerHeight;
    const dpr = DPR();
    c.width=Math.floor(W*dpr);
    c.height=Math.floor(H*dpr);
    c.style.width=W+'px';
    c.style.height=H+'px';
    ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  addEventListener('resize', resize, {passive:true});
  resize();

  const word = document.getElementById('word');
  const sweep = document.getElementById('sweep');

  function center(){
    const r = word.getBoundingClientRect();
    return { x: r.left + r.width/2, y: r.top + r.height/2 };
  }

  const starCount = reduceMotion ? 160 : (lowEnd ? 320 : 520);
  const stars = Array.from({length: starCount}, () => ({
    x: Math.random()*W, y: Math.random()*H, z: Math.random(),
    r: rand(.5, lowEnd ? 1.05 : 1.25), tw: rand(0, Math.PI*2)
  }));

  const shards=[];
  function burst(n, x, y){
    for(let i=0;i<n;i++){
      const a = rand(0, Math.PI*2);
      const sp = rand(lowEnd ? 120 : 140, lowEnd ? 460 : 620);
      shards.push({
        x: x + rand(-6,6),
        y: y + rand(-4,4),
        vx: Math.cos(a)*sp,
        vy: Math.sin(a)*sp,
        life: rand(.28, .85),
        age: 0,
        r: rand(.8, lowEnd ? 1.8 : 2.2),
        rot: rand(0, Math.PI*2),
        vr: rand(-10, 10),
      });
    }
  }

  function glitchBurst(ms=180){
    word.classList.add('burst');
    setTimeout(()=> word.classList.remove('burst'), ms);
  }

  function start(){
    setTimeout(()=> document.body.classList.add('ready'), 420);

    setTimeout(()=>{
      const p = center();
      burst(lowEnd ? 60 : 90, p.x, p.y);
      glitchBurst(210);

      sweep.style.opacity = '1';
      sweep.animate([
        { transform:'translateX(-10%) skewX(-18deg)', opacity:0 },
        { transform:'translateX(220%) skewX(-18deg)', opacity:1 },
        { transform:'translateX(260%) skewX(-18deg)', opacity:0 }
      ], { duration: 880, easing:'cubic-bezier(.2,.8,.2,1)', fill:'forwards' });
    }, 720);

    setTimeout(()=> glitchBurst(140), 1700);
    setTimeout(()=> glitchBurst(140), 3200);
  }
  window.addEventListener('load', start);

  let last=performance.now();
  let running = true;

  function onVis(){
    running = !document.hidden;
    if(running){
      last = performance.now();
      requestAnimationFrame(frame);
    }
  }
  document.addEventListener("visibilitychange", onVis);

  function frame(now){
    if(!running) return;

    const dt=Math.min(0.033,(now-last)/1000);
    last=now;

    ctx.clearRect(0,0,W,H);

    for(const s of stars){
      s.tw += dt*(0.5+s.z*1.2);
      const tw = 0.5+0.5*Math.sin(s.tw);
      const a  = (0.02+tw*0.08)*(0.35+s.z*0.9);
      ctx.beginPath();
      ctx.fillStyle = 'rgba(255,255,255,'+a+')';
      ctx.arc(s.x, s.y, s.r*(0.9+(1-s.z)*0.6), 0, Math.PI*2);
      ctx.fill();
    }

    for(let i=shards.length-1;i>=0;i--){
      const p=shards[i];
      p.age += dt;
      const k = 1 - p.age/p.life;
      if(k<=0){ shards.splice(i,1); continue; }

      p.vx *= (1 - dt*2.2);
      p.vy *= (1 - dt*2.0);
      p.x += p.vx*dt;
      p.y += p.vy*dt;
      p.vy += 320*dt*(1-k);
      p.rot += p.vr*dt;

      ctx.save();
      ctx.globalCompositeOperation='lighter';
      const a = (0.05 + 0.22*k);
      const r = p.r*(0.9+(1-k)*1.1);
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rot);
      ctx.fillStyle = 'rgba(255,255,255,'+a+')';
      ctx.fillRect(-r, -r*0.30, r*2, r*0.60);
      ctx.restore();
    }

    requestAnimationFrame(frame);
  }
  requestAnimationFrame(frame);

})();
<\/script>
</body>
</html>`;

    function Intro(){
      useObjectFX();

      const words = useMemo(()=>[
        "DISCIPLINED", "UNSTOPPABLE", "FOCUSED", "DANGEROUS", "LEGENDARY"
      ], []);

      const [i, setI] = useState(0);
      const [phase, setPhase] = useState(0);
      const [leaving, setLeaving] = useState(false);

      useEffect(()=>{
        const t1 = setTimeout(()=> setPhase(1), 1500);
        const t2 = setTimeout(()=>{
          setPhase(0);
          setI(v => (v+1) % words.length);
        }, 1880);
        return ()=>{ clearTimeout(t1); clearTimeout(t2); };
      }, [i, words.length]);

      useEffect(()=>{
        const onKey = (e)=>{
          if(e.key === "Enter"){
            const btn = document.getElementById("enterBtn");
            if(btn) btn.click();
          }
        };
        window.addEventListener("keydown", onKey);
        return ()=> window.removeEventListener("keydown", onKey);
      }, []);

      function enter(){
        if(leaving) return;
        setLeaving(true);

        // üîä Stop audio immediately on enter
        try{
          const a = document.getElementById("systemAudio");
          if(a){
            a.pause();
            a.currentTime = 0;
          }
        }catch(e){}

        const panel = document.getElementById("panel");
        if(panel) panel.classList.add("out");

        const frame = document.getElementById("scene2Frame");
        setTimeout(()=>{
          frame.srcdoc = SCENE2_HTML;
          frame.classList.add("show");
        }, 240);

        setTimeout(()=>{ window.location.href = TARGET_APP; }, 4700);
      }

      const chipStyle = {
        transform: phase ? "translateY(7px) scale(0.985)" : "translateY(0px) scale(1)",
        opacity: phase ? 0.40 : 1,
        transition: "transform 260ms ease, opacity 240ms ease",
      };

      return h("div", { className:"wrap" },
        h("div", { className:"panel", id:"panel" },
          h("div", { className:"scanline" }),
          h("div", { className:"hudCorners" }),
          h("div", { className:"inner" },

            h("div", { className:"badge" },
              h("span", { className:"dot" }),
              h("span", { style:{fontFamily:"Oxanium, Inter, sans-serif", letterSpacing:"1px"} }, "INIT ‚Ä¢ RISE PROTOCOL"),
              h("span", { style:{opacity:.7} }, "‚Ä¢ ONLINE")
            ),

            h("div", { className:"hero" },
              h("h1", { className:"headline" },
                h("span", { className:"system glitch", "data-text":"SYSTEM" }, "SYSTEM"),
                h("span", null, " "),
                "BECOME A ",
                h("span", { className:"chip", style: chipStyle }, h("span", null, words[i])),
                " ",
                h("span", { className:"heroWord" }, "HERO")
              ),

              h("p", { className:"subline" },
                "ŸÖŸÑÿßÿ≠ÿ∏ÿ©: Ÿäÿ™ŸÖ ÿ•ÿ∫ŸÑÿßŸÇ ÿßŸÑŸäŸàŸÖ ÿ™ŸÑŸÇÿßÿ¶ŸäŸãÿß ÿπŸÜÿØ 00:00 Ÿàÿ≠ŸÅÿ∏ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨. ",
                "ÿßŸÑÿ±ÿßÿØÿßÿ± ŸäÿπŸÉÿ≥ ÿßŸÑÿ™ŸÇÿØŸÖ ÿßŸÑŸÉŸèŸÑŸëŸä (ŸÖÿØŸâ ÿßŸÑÿ≠Ÿäÿßÿ©) ŸàŸÑŸäÿ≥ ŸäŸàŸÖŸãÿß Ÿàÿßÿ≠ÿØŸãÿß."
              ),

              h("div", { className:"actions" },
                h("button", { id:"enterBtn", className:"btn btnPrimary", onClick: enter }, leaving ? "ENTERING‚Ä¶" : "ENTER THE SYSTEM"),
                h("button", { className:"btn", onClick: ()=> location.reload() }, "RECALIBRATE"),
                h("div", { className:"hint" }, "Press ", h("span", {className:"kbd"}, "Enter"), " to enter")
              ),

              h("div", { className:"echo" },
                h("div", null, "‚Ä¢ Objects ‚Ä¢ Hologram ‚Ä¢ Sparks"),
                h("div", null, "‚Ä¢ Smooth mode enabled")
              )
            )
          )
        )
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(h(Intro));
  </script>
</body>
</html>
