<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RISE SYSTEM™</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@200..800&family=Inter:wght@300..900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#070a12;
      --fg:rgba(255,255,255,.92);
      --c1:#00e5ff;
      --c2:#c86bff;
      --c3:#22ff9a;
      --c4:#ffbe50;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--fg);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      overflow:hidden;
    }

    /* ===== Animated Nebula (no mouse) ===== */
    .nebula{
      position:fixed; inset:-25%;
      background:
        radial-gradient(1100px 850px at 18% 22%, rgba(200,107,255,.22), transparent 62%),
        radial-gradient(1200px 900px at 82% 18%, rgba(0,229,255,.22), transparent 62%),
        radial-gradient(1100px 860px at 22% 86%, rgba(34,255,154,.13), transparent 62%),
        radial-gradient(900px 740px at 86% 84%, rgba(255,190,80,.10), transparent 62%),
        linear-gradient(#070a12,#080b16,#0a0f1d);
      background-size:150% 150%;
      animation: nebMove 12.8s ease-in-out infinite;
      filter:saturate(1.08);
      transform:translateZ(0);
      z-index:-5;
    }
    @keyframes nebMove{
      0%{background-position:42% 58%; filter:hue-rotate(0deg); transform:scale(1);}
      50%{background-position:62% 38%; filter:hue-rotate(12deg); transform:scale(1.035);}
      100%{background-position:42% 58%; filter:hue-rotate(0deg); transform:scale(1);}
    }

    .scan{
      position:fixed; inset:0;
      background:repeating-linear-gradient(to bottom,
        rgba(255,255,255,.06) 0px,
        rgba(255,255,255,.06) 1px,
        transparent 2px,
        transparent 7px
      );
      opacity:.09;
      mix-blend-mode:overlay;
      pointer-events:none;
      z-index:-4;
    }

    .vignette{
      position:fixed; inset:0;
      background:radial-gradient(circle at center, transparent 54%, rgba(0,0,0,.70) 100%);
      pointer-events:none;
      z-index:-3;
    }

    /* ===== subtle particles ===== */
    .dust{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:-2;
      background:
        radial-gradient(circle at 18% 30%, rgba(255,255,255,.05), transparent 30%),
        radial-gradient(circle at 70% 20%, rgba(255,255,255,.04), transparent 32%),
        radial-gradient(circle at 30% 85%, rgba(255,255,255,.04), transparent 30%),
        radial-gradient(circle at 85% 75%, rgba(255,255,255,.03), transparent 32%);
      opacity:.55;
      filter:blur(.3px);
      animation:dust 9s ease-in-out infinite;
    }
    @keyframes dust{
      0%{transform:translateY(0) translateX(0); opacity:.50}
      50%{transform:translateY(-10px) translateX(8px); opacity:.75}
      100%{transform:translateY(0) translateX(0); opacity:.50}
    }

    /* ===== Layout ===== */
    .wrap{
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .panel{
      width:min(980px, 100%);
      text-align:center;
      padding:26px 18px 18px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.18);
      box-shadow:0 0 0 1px rgba(255,255,255,.04) inset;
      margin-bottom:18px;
    }
    .dot{
      width:10px;height:10px;border-radius:999px;
      background:var(--c1);
      box-shadow:0 0 18px rgba(0,229,255,.55);
    }
    .brand{
      font-family:Oxanium, sans-serif;
      letter-spacing:.9px;
      font-weight:900;
    }
    .sub{opacity:.65; font-size:12px}

    /* ===== SYSTEM Title ===== */
    .system{
      font-family:Oxanium, sans-serif;
      font-size:clamp(56px, 9vw, 96px);
      letter-spacing:7px;
      margin:0;
      line-height:1;
      text-shadow:0 0 55px rgba(0,229,255,.12);
    }

    .glitch{
      position:relative;
      display:inline-block;
    }
    .glitch::before,
    .glitch::after{
      content:attr(data-text);
      position:absolute; inset:0;
      opacity:.70;
      pointer-events:none;
    }
    .glitch::before{
      color:var(--c2);
      transform:translate(2px,0);
      clip-path: inset(0 0 54% 0);
      animation:g1 2.1s infinite linear;
    }
    .glitch::after{
      color:var(--c1);
      transform:translate(-2px,0);
      clip-path: inset(54% 0 0 0);
      animation:g2 2.6s infinite linear;
    }
    @keyframes g1{
      0%,100%{filter:none}
      14%{transform:translate(3px,-1px)}
      28%{transform:translate(1px,1px)}
      42%{transform:translate(4px,0)}
    }
    @keyframes g2{
      0%,100%{filter:none}
      16%{transform:translate(-3px,1px)}
      32%{transform:translate(-1px,-1px)}
      48%{transform:translate(-4px,0)}
    }

    /* ===== The "loading inside text" line ===== */
    .mission{
      margin:14px auto 0;
      width:min(860px, 100%);
    }

    .loadText{
      position:relative;
      display:inline-block;
      font-family:Oxanium, sans-serif;
      font-weight:900;
      font-size:clamp(22px, 3.2vw, 36px);
      letter-spacing:1px;
      text-transform:uppercase;
      padding:10px 14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.03);
      box-shadow:0 0 0 1px rgba(255,255,255,.04) inset;
      overflow:hidden;
    }

    /* Base outline text */
    .loadText .outline{
      position:relative;
      color:rgba(255,255,255,.18);
      text-shadow:0 0 18px rgba(200,107,255,.08);
      -webkit-text-stroke: 1px rgba(255,255,255,.10);
      z-index:1;
    }

    /* Filled text clipped by progress */
    .loadText .fillLayer{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:2;
      width:100%;
      pointer-events:none;
    }

    .loadText .fillLayer span{
      background:
        linear-gradient(90deg, rgba(0,229,255,.95), rgba(200,107,255,.95), rgba(34,255,154,.75));
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
      text-shadow:0 0 24px rgba(0,229,255,.12), 0 0 35px rgba(200,107,255,.10);
      filter:saturate(1.2);
      transform:translateZ(0);
    }

    /* mask controlling progress */
    .mask{
      position:absolute;
      inset:0;
      width:0%;
      overflow:hidden;
      transition:width .15s ease;
    }

    /* shimmer sweep (professional vibe) */
    .shine{
      position:absolute;
      top:-30%;
      left:-35%;
      width:35%;
      height:160%;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,.20), transparent);
      transform:skewX(-18deg);
      opacity:.55;
      filter:blur(.2px);
      animation: sweep 1.25s linear infinite;
      mix-blend-mode:screen;
      pointer-events:none;
    }
    @keyframes sweep{
      0%{transform:translateX(0) skewX(-18deg)}
      100%{transform:translateX(420%) skewX(-18deg)}
    }

    /* tiny percent under */
    .mini{
      margin-top:10px;
      font-family:ui-monospace, Menlo, Monaco, Consolas, monospace;
      font-size:12px;
      letter-spacing:2px;
      opacity:.70;
    }

    /* ===== Enter only ===== */
    .enterWrap{
      margin-top:18px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      flex-wrap:wrap;
    }
    .btn{
      cursor:pointer;
      border-radius:14px;
      padding:12px 18px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:rgba(255,255,255,.95);
      font-weight:950;
      letter-spacing:.9px;
      transition:.18s;
      min-width:240px;
      text-transform:uppercase;
      font-family:Oxanium, sans-serif;
    }
    .btn:hover{background:rgba(255,255,255,.10)}
    .btn[disabled]{opacity:.45; cursor:not-allowed}

    .kbd{
      display:inline-block;
      padding:2px 8px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.06);
      font-family:ui-monospace, Menlo, Monaco, Consolas, monospace;
      font-size:12px;
      opacity:.85;
    }

    .ready{
      display:inline-flex;
      align-items:center;
      gap:8px;
      opacity:0;
      transform:translateY(6px);
      transition:.25s ease;
    }
    .ready.on{opacity:.90; transform:translateY(0)}
    .pulse{
      width:9px;height:9px;border-radius:999px;
      background:var(--c2);
      box-shadow:0 0 18px rgba(200,107,255,.45);
      animation:pulse 1.05s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{transform:scale(1); opacity:.7}
      50%{transform:scale(1.7); opacity:1}
    }

    /* ===== Ultra portal transition ===== */
    .portal{
      position:fixed; inset:0;
      display:grid;
      place-items:center;
      pointer-events:none;
      opacity:0;
      z-index:50;
      transition:opacity .18s ease;
    }
    .portal.on{opacity:1}

    .portalField{
      position:relative;
      width:min(92vmin, 820px);
      aspect-ratio:1/1;
      border-radius:999px;
      overflow:visible;
      transform:scale(.65);
      opacity:0;
      filter:saturate(1.2);
      animation:none;
    }

    /* outer aura */
    .portalField::before{
      content:"";
      position:absolute; inset:-10%;
      border-radius:999px;
      background: radial-gradient(circle at center,
        rgba(200,107,255,.20),
        rgba(0,229,255,.10),
        rgba(0,0,0,0) 62%);
      filter:blur(18px);
      opacity:.0;
      transform:scale(.95);
      animation:none;
    }

    /* core ring */
    .ring{
      position:absolute; inset:0;
      border-radius:999px;
      background:
        conic-gradient(from 0deg,
          rgba(200,107,255,0) 0deg,
          rgba(200,107,255,.9) 55deg,
          rgba(0,229,255,.8) 140deg,
          rgba(34,255,154,.35) 220deg,
          rgba(200,107,255,.9) 315deg,
          rgba(200,107,255,0) 360deg);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.08) inset,
        0 0 90px rgba(200,107,255,.18),
        0 0 140px rgba(0,229,255,.10);
      mask: radial-gradient(circle at center, transparent 53%, black 58%);
      -webkit-mask: radial-gradient(circle at center, transparent 53%, black 58%);
    }

    /* inner swirl */
    .swirl{
      position:absolute; inset:10%;
      border-radius:999px;
      background:
        radial-gradient(circle at center, rgba(200,107,255,.22), rgba(0,229,255,.10), rgba(0,0,0,0) 62%),
        conic-gradient(from 180deg,
          rgba(0,229,255,.0),
          rgba(0,229,255,.25),
          rgba(200,107,255,.35),
          rgba(34,255,154,.10),
          rgba(0,229,255,.0));
      filter:blur(.4px);
      opacity:.85;
      transform:rotate(0deg);
      animation:none;
    }

    /* shock lines */
    .shock{
      position:absolute; inset:-15%;
      background:
        radial-gradient(circle at 50% 50%, rgba(255,255,255,.10), transparent 60%),
        linear-gradient(to right, rgba(200,107,255,0), rgba(200,107,255,.22), rgba(200,107,255,0)),
        linear-gradient(to bottom, rgba(0,229,255,0), rgba(0,229,255,.14), rgba(0,229,255,0));
      opacity:0;
      mix-blend-mode:screen;
      filter:blur(1px);
      animation:none;
    }

    /* cinematic flash */
    .flash{
      position:fixed; inset:0;
      background:white;
      opacity:0;
      z-index:60;
      pointer-events:none;
      transition:opacity .12s ease;
    }

    .portal.on .portalField{
      animation: portalIn .78s cubic-bezier(.16,.88,.2,1) forwards;
    }
    .portal.on .portalField::before{
      animation: aura .78s ease forwards;
    }
    .portal.on .swirl{
      animation: swirlSpin .62s linear infinite;
    }
    .portal.on .shock{
      animation: shock .62s ease forwards;
    }

    @keyframes portalIn{
      0%{transform:scale(.58); opacity:0; filter:blur(8px) saturate(1.25)}
      55%{transform:scale(.98); opacity:1; filter:blur(1.8px) saturate(1.25)}
      100%{transform:scale(1.28); opacity:1; filter:blur(0px) saturate(1.25)}
    }
    @keyframes aura{
      0%{opacity:0; transform:scale(.95)}
      55%{opacity:1; transform:scale(1.02)}
      100%{opacity:.0; transform:scale(1.08)}
    }
    @keyframes swirlSpin{
      to{transform:rotate(360deg)}
    }
    @keyframes shock{
      0%{opacity:0}
      35%{opacity:.65}
      100%{opacity:0}
    }

    /* Fade out main content */
    .fade{
      transition: opacity .35s ease, transform .35s ease, filter .35s ease;
    }
    .fade.out{
      opacity:0;
      transform:translateY(10px) scale(.99);
      filter:blur(2px);
    }
  </style>
</head>
<body>
  <div class="nebula" aria-hidden="true"></div>
  <div class="scan" aria-hidden="true"></div>
  <div class="vignette" aria-hidden="true"></div>
  <div class="dust" aria-hidden="true"></div>

  <div class="flash" id="flash" aria-hidden="true"></div>

  <div class="portal" id="portal" aria-hidden="true">
    <div class="portalField" id="portalField">
      <div class="shock"></div>
      <div class="ring"></div>
      <div class="swirl"></div>
    </div>
  </div>

  <div class="wrap">
    <main class="panel fade" id="panel">
      <div class="badge">
        <div class="dot"></div>
        <div class="brand">RISE SYSTEM™</div>
        <div class="sub">Initialization</div>
      </div>

      <h1 class="system glitch" data-text="SYSTEM">SYSTEM</h1>

      <section class="mission">
        <div class="loadText" aria-live="polite">
          <div class="shine" aria-hidden="true"></div>

          <div class="outline" id="outlineText">BECOME A LEGEND</div>

          <div class="fillLayer" aria-hidden="true">
            <div class="mask" id="mask">
              <span id="fillText">BECOME A LEGEND</span>
            </div>
          </div>
        </div>

        <div class="mini"><span id="pct">0%</span></div>
      </section>

      <div class="enterWrap">
        <button class="btn" id="enterBtn" disabled>ENTER SYSTEM</button>
        <span class="ready" id="ready">
          <span class="pulse"></span>
          <span class="kbd">PRESS ENTER</span>
        </span>
      </div>
    </main>
  </div>

  <script>
    // ✅ غيّر هذا فقط إذا صفحة موقعك ليست app.html
    const TARGET_PAGE = "app.html";

    const portal = document.getElementById("portal");
    const panel  = document.getElementById("panel");
    const flash  = document.getElementById("flash");

    const enterBtn = document.getElementById("enterBtn");
    const readyEl  = document.getElementById("ready");

    const pctEl  = document.getElementById("pct");
    const maskEl = document.getElementById("mask");

    // Optional: change phrase here if you want
    const PHRASE = "BECOME A LEGEND";

    document.getElementById("outlineText").textContent = PHRASE;
    document.getElementById("fillText").textContent = PHRASE;

    // ===== Cinematic, non-linear boot that feels "alive" (no logs) =====
    let progress = 0;
    let ready = false;
    let going = false;

    function setProgress(p){
      progress = Math.max(progress, Math.min(100, p));
      const shown = Math.floor(progress);
      pctEl.textContent = shown + "%";
      maskEl.style.width = shown + "%";
    }

    // A “director-like” curve: fast start -> mid waves -> suspense near end -> snap to 100
    function nextStep(){
      if (ready) return;

      const t = progress / 100;

      // base increment by phase
      let inc;
      if (t < 0.18) inc = 4 + Math.random() * 6;              // fast
      else if (t < 0.55) inc = 1.8 + Math.random() * 3.6;     // steady
      else if (t < 0.82) inc = 0.8 + Math.random() * 2.2;     // slower
      else if (t < 0.94) inc = (Math.random() < 0.65) ? 0.22 : (0.6 + Math.random() * 1.1); // suspense
      else inc = 0.45 + Math.random() * 1.0;                  // final

      // occasional cinematic jump
      if (Math.random() < 0.11 && progress < 92) inc += 2 + Math.random() * 6;

      // clamp close to 99 sometimes (creates tension)
      let target = Math.min(100, progress + inc);
      if (target > 99 && progress < 99 && Math.random() < 0.55) target = 99;

      setProgress(target);

      if (progress >= 99 && progress < 100){
        // hold a dramatic pause, then hit 100
        setTimeout(() => {
          setProgress(100);
          onReady();
        }, 520 + Math.random() * 520);
        return;
      }

      // timing (varies by phase)
      const delay =
        t < 0.18 ? 70 + Math.random() * 130 :
        t < 0.55 ? 90 + Math.random() * 170 :
        t < 0.82 ? 120 + Math.random() * 210 :
                   160 + Math.random() * 260;

      setTimeout(nextStep, delay);
    }

    function onReady(){
      ready = true;
      enterBtn.disabled = false;
      readyEl.classList.add("on");
    }

    // ===== “SYSTEM” cinematic sound + gate sound (WebAudio) =====
    // Note: audio needs user interaction to fully play on many browsers.
    function playSystemGateSound(){
      try{
        const AudioCtx = window.AudioContext || window.webkitAudioContext;
        const ctx = new AudioCtx();
        const now = ctx.currentTime;

        // Master
        const master = ctx.createGain();
        master.gain.setValueAtTime(0.0001, now);
        master.gain.exponentialRampToValueAtTime(0.9, now + 0.03);
        master.gain.exponentialRampToValueAtTime(0.0001, now + 1.05);
        master.connect(ctx.destination);

        // Sub rumble (SYSTEM power)
        const sub = ctx.createOscillator();
        sub.type = "sine";
        sub.frequency.setValueAtTime(48, now);
        sub.frequency.exponentialRampToValueAtTime(36, now + 0.9);

        const subG = ctx.createGain();
        subG.gain.setValueAtTime(0.0001, now);
        subG.gain.exponentialRampToValueAtTime(0.22, now + 0.04);
        subG.gain.exponentialRampToValueAtTime(0.0001, now + 1.02);

        // Metallic "SYSTEM" hit (FM-ish feel via detuned oscillators)
        const oA = ctx.createOscillator();
        oA.type = "triangle";
        oA.frequency.setValueAtTime(740, now);
        oA.frequency.exponentialRampToValueAtTime(420, now + 0.45);

        const oB = ctx.createOscillator();
        oB.type = "sawtooth";
        oB.frequency.setValueAtTime(1110, now);
        oB.frequency.exponentialRampToValueAtTime(520, now + 0.55);
        oB.detune.setValueAtTime(-7, now);

        const hiG = ctx.createGain();
        hiG.gain.setValueAtTime(0.0001, now);
        hiG.gain.exponentialRampToValueAtTime(0.18, now + 0.02);
        hiG.gain.exponentialRampToValueAtTime(0.0001, now + 0.9);

        // Whoosh noise (gate opening)
        const bufferSize = Math.floor(ctx.sampleRate * 1.05);
        const noiseBuffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);
        const data = noiseBuffer.getChannelData(0);
        for (let i=0; i<bufferSize; i++){
          const fade = 1 - (i / bufferSize);
          data[i] = (Math.random()*2 - 1) * (fade * fade);
        }
        const noise = ctx.createBufferSource();
        noise.buffer = noiseBuffer;

        const bp = ctx.createBiquadFilter();
        bp.type = "bandpass";
        bp.frequency.setValueAtTime(540, now);
        bp.frequency.exponentialRampToValueAtTime(1200, now + 0.55);
        bp.Q.setValueAtTime(0.85, now);

        const nG = ctx.createGain();
        nG.gain.setValueAtTime(0.0001, now);
        nG.gain.exponentialRampToValueAtTime(0.33, now + 0.03);
        nG.gain.exponentialRampToValueAtTime(0.0001, now + 1.02);

        // Connect
        sub.connect(subG); subG.connect(master);
        oA.connect(hiG); oB.connect(hiG); hiG.connect(master);
        noise.connect(bp); bp.connect(nG); nG.connect(master);

        // Start/stop
        sub.start(now); oA.start(now); oB.start(now); noise.start(now);
        sub.stop(now + 1.08); oA.stop(now + 1.08); oB.stop(now + 1.08); noise.stop(now + 1.08);

      } catch(e){ /* ignore */ }
    }

    // ===== Enter / Transition =====
    function go(){
      if (!ready || going) return;
      going = true;

      // audio (on user action)
      playSystemGateSound();

      // visuals
      portal.classList.add("on");
      panel.classList.add("out");

      // cinematic flash
      flash.style.opacity = "0.35";
      setTimeout(()=> flash.style.opacity = "0", 120);

      // move
      setTimeout(() => {
        window.location.href = TARGET_PAGE;
      }, 820);
    }

    enterBtn.addEventListener("click", go);
    window.addEventListener("keydown", (e) => {
      if (e.key === "Enter") go();
    });

    // Start boot
    setProgress(0);
    setTimeout(nextStep, 260);
  </script>
</body>
</html>
